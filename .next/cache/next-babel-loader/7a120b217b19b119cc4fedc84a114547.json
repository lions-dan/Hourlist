{"ast":null,"code":"var _jsxFileName = \"/Users/Daniel/Websites/Hourlist/components/Layout.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport GlobalStyle from '../styles/GlobalStyles';\nimport Button from '../styles/button';\nimport fetch from 'isomorphic-unfetch';\nimport MainFrame from './MainFrame';\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authenticated: false\n    };\n  }\n\n  componentDidMount() {\n    var accessToken = document.location.hash;\n\n    if (accessToken !== \"\") {\n      accessToken = accessToken.split('&').filter(function (el) {\n        if (el.match('access_token') !== null) return true;\n      })[0].split('=')[1];\n      this.setState({\n        authenticated: true,\n        accessToken: accessToken\n      });\n    }\n  }\n\n  render() {\n    function authenticateSpotify() {\n      const clientID = \"05254a545218406db543397b27a55c17\";\n      const endPoint = \"authorize\";\n      const responseType = \"token\";\n      const scope = \"playlist-modify-public%20playlist-modify-private%20user-top-read%20user-library-read%20playlist-read-private\";\n      const redirectURI = \"http://localhost:3000\";\n      var accessToken;\n      console.log(\"Authenticating\");\n      const url = \"https://accounts.spotify.com/authorize?client_id=\" + clientID + \"&redirect_uri=\" + redirectURI + \"&scope=\" + scope + \"&response_type=token\";\n      window.location.replace(url);\n    }\n\n    if (!this.state.authenticated) {\n      return __jsx(\"div\", {\n        id: \"root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, __jsx(GlobalStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), __jsx(Button, {\n        onClick: authenticateSpotify,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \" Authenticate Spotify \"));\n    } else {\n      return __jsx(\"div\", {\n        id: \"root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, __jsx(GlobalStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), __jsx(MainFrame, {\n        token: this.state.accessToken,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\n;\nexport default Layout;","map":{"version":3,"sources":["/Users/Daniel/Websites/Hourlist/components/Layout.js"],"names":["React","GlobalStyle","Button","fetch","MainFrame","Layout","Component","constructor","props","state","authenticated","componentDidMount","accessToken","document","location","hash","split","filter","el","match","setState","render","authenticateSpotify","clientID","endPoint","responseType","scope","redirectURI","console","log","url","window","replace"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAGA,MAAMC,MAAN,SAAqBL,KAAK,CAACM,SAA3B,CAAqC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,aAAa,EAAC;AAAf,KAAb;AACD;;AAGDC,EAAAA,iBAAiB,GAAE;AACjB,QAAIC,WAAW,GAAGC,QAAQ,CAACC,QAAT,CAAkBC,IAApC;;AACA,QAAGH,WAAW,KAAK,EAAnB,EAAsB;AACpBA,MAAAA,WAAW,GAAGA,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EACbC,MADa,CACN,UAASC,EAAT,EAAa;AAAE,YAAGA,EAAE,CAACC,KAAH,CAAS,cAAT,MAA6B,IAAhC,EAAsC,OAAO,IAAP;AAAc,OAD7D,EAC+D,CAD/D,EACkEH,KADlE,CACwE,GADxE,EAC6E,CAD7E,CAAd;AAEC,WAAKI,QAAL,CAAc;AAACV,QAAAA,aAAa,EAAC,IAAf;AAAoBE,QAAAA,WAAW,EAACA;AAAhC,OAAd;AACF;AACF;;AACDS,EAAAA,MAAM,GAAE;AAER,aAASC,mBAAT,GAA8B;AAC5B,YAAMC,QAAQ,GAAG,kCAAjB;AACA,YAAMC,QAAQ,GAAG,WAAjB;AACA,YAAMC,YAAY,GAAG,OAArB;AACA,YAAMC,KAAK,GAAG,8GAAd;AACA,YAAMC,WAAW,GAAG,uBAApB;AACA,UAAIf,WAAJ;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,YAAMC,GAAG,GAAG,sDAAoDP,QAApD,GAA6D,gBAA7D,GAA8EI,WAA9E,GAA0F,SAA1F,GAAoGD,KAApG,GAA0G,sBAAtH;AACAK,MAAAA,MAAM,CAACjB,QAAP,CAAgBkB,OAAhB,CAAwBF,GAAxB;AACD;;AAED,QAAG,CAAC,KAAKrB,KAAL,CAAWC,aAAf,EAA6B;AAC3B,aACI;AAAK,QAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA,MAAC,MAAD;AAAQ,QAAA,OAAO,EAAEY,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFA,CADJ;AAMC,KAPH,MAOO;AACF,aACG;AAAK,QAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEE,MAAC,SAAD;AAAW,QAAA,KAAK,EAAE,KAAKb,KAAL,CAAWG,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADH;AAMD;AAIH;;AA/CkC;;AAkDpC;AAID,eAAeP,MAAf","sourcesContent":["import React from 'react';\nimport GlobalStyle from '../styles/GlobalStyles';\nimport Button from '../styles/button';\nimport fetch from 'isomorphic-unfetch';\nimport MainFrame from './MainFrame'\n\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {authenticated:false};\n  }\n  \n\n  componentDidMount(){\n    var accessToken = document.location.hash;\n    if(accessToken !== \"\"){\n      accessToken = accessToken.split('&')\n      .filter(function(el) { if(el.match('access_token') !== null) return true; })[0].split('=')[1];\n       this.setState({authenticated:true,accessToken:accessToken})\n    }\n  }\n  render(){\n\n  function authenticateSpotify(){\n    const clientID = \"05254a545218406db543397b27a55c17\";\n    const endPoint = \"authorize\";\n    const responseType = \"token\";\n    const scope = \"playlist-modify-public%20playlist-modify-private%20user-top-read%20user-library-read%20playlist-read-private\";\n    const redirectURI = \"http://localhost:3000\";\n    var accessToken;\n    console.log(\"Authenticating\")\n    const url = \"https://accounts.spotify.com/authorize?client_id=\"+clientID+\"&redirect_uri=\"+redirectURI+\"&scope=\"+scope+\"&response_type=token\"\n    window.location.replace(url);\n  }\n  \n  if(!this.state.authenticated){\n    return(\n        <div id=\"root\">\n        <GlobalStyle />\n        <Button onClick={authenticateSpotify}> Authenticate Spotify </Button>\n        </div>\n      )\n    }else{\n       return (\n          <div id=\"root\">\n          <GlobalStyle />\n            <MainFrame token={this.state.accessToken}/> \n          </div>   \n        )\n     }\n\n   \n\n  }\n  \n\n};\n\n\n\nexport default Layout;"]},"metadata":{},"sourceType":"module"}