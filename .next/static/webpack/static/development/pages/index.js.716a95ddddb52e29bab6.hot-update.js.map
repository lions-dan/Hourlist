{"version":3,"file":"static/webpack/static/development/pages/index.js.716a95ddddb52e29bab6.hot-update.js","sources":["webpack:///./components/Layout.js"],"sourcesContent":["import React from 'react';\nimport GlobalStyle from '../styles/GlobalStyles';\nimport Button from '../styles/button';\nimport fetch from 'isomorphic-unfetch';\nimport MainFrame from './MainFrame'\n\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {authenticated:false};\n  }\n  \n\n  componentDidMount(){\n    var accessToken = document.location.hash;\n    if(accessToken !== \"\"){\n      accessToken = accessToken.split('&')\n      .filter(function(el) { if(el.match('access_token') !== null) return true; })[0].split('=')[1];\n       this.setState({authenticated:true,accessToken:accessToken})\n    }\n  }\n  render(){\n\n  function authenticateSpotify(){\n    const clientID = \"05254a545218406db543397b27a55c17\";\n    const endPoint = \"authorize\";\n    const responseType = \"token\";\n    const scope = \"playlist-modify-public%20playlist-modify-private%20user-top-read%20user-library-read%20playlist-read-private\";\n    const redirectURI = \"http://localhost:3000\";\n    var accessToken;\n    console.log(\"Authenticating\")\n    const url = \"https://accounts.spotify.com/authorize?client_id=\"+clientID+\"&redirect_uri=\"+redirectURI+\"&scope=\"+scope+\"&response_type=token\"\n    window.location.replace(url);\n  }\n  \n  if(!this.state.authenticated){\n    return(\n        <div id=\"root\">\n        <GlobalStyle />\n        <Button onClick={authenticateSpotify}> Authenticate Spotify </Button>\n        </div>\n      )\n    }else{\n       return (\n          <div id=\"root\">\n          <GlobalStyle />\n            <MainFrame token={this.state.accessToken}/> \n          </div>   \n        )\n     }\n\n   \n\n  }\n  \n\n};\n\n\n\nexport default Layout;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;;;;AA/CA;AACA;AAiDA;AAIA;;;;A","sourceRoot":""}